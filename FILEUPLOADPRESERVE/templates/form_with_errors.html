
<!-- Form with validation errors - file input preserved by hx-preserve -->
<form id="preserveForm"
      method="POST"
      enctype="multipart/form-data"
      hx-post="/upload"
      hx-target="#preserveForm"
      hx-swap="outerHTML">

    <div class="form-group">
        <label for="name">Name *</label>
        <input type="text"
               id="name"
               name="name"
               value="{{ name }}"
               placeholder="Enter your name"
               class="{{ 'error' if 'name' in errors else '' }}">
        {% if 'name' in errors %}
            <div class="error-message">{{ errors.name }}</div>
        {% endif %}
    </div>

    <div class="form-group">
        <label for="email">Email *</label>
        <input type="text"
               id="email"
               name="email"
               value="{{ email }}"
               placeholder="Enter your email"
               class="{{ 'error' if 'email' in errors else '' }}">
        {% if 'email' in errors %}
            <div class="error-message">{{ errors.email }}</div>
        {% endif %}
    </div>

    <div class="form-group">
        <label for="file">File *</label>
        <!-- hx-preserve: File input value is preserved after form errors -->
        <input type="file"
               id="file"
               name="file"
               hx-preserve
               accept=".txt,.pdf,.png,.jpg,.jpeg,.gif,.doc,.docx,.zip,.rar"
               class="{{ 'error' if 'file' in errors else '' }}">
        <small>Allowed types: txt, pdf, png, jpg, jpeg, gif, doc, docx, zip, rar (max 16MB)</small>
        {% if 'file' in errors %}
            <div class="error-message">{{ errors.file }}</div>
        {% endif %}
    </div>

    <button type="submit" class="btn btn-primary">
        Upload File
    </button>
</form>
