<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTMX UIKit Modal Dialogs Example</title>
    
    <!-- UIKit CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.17.11/dist/css/uikit.min.css" />
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    
    <!-- Favicons -->
    <link rel="icon" href="{{ url_for('static', filename='img/favicon.svg') }}" type="image/svg+xml">
    <link rel="alternate icon" href="{{ url_for('static', filename='img/favicon-emoji.svg') }}" type="image/svg+xml">
</head>
<body>
    <div class="uk-container uk-container-large uk-margin-top">
        <h1 class="uk-heading-medium uk-text-center">HTMX UIKit Modal Dialogs Example</h1>
        
        <div class="uk-text-center uk-margin-large">
            <p class="uk-text-large">This example demonstrates modal dialogs using HTMX with UIKit framework.</p>
            <p>Click the button below to open a modal dialog that loads content dynamically.</p>
        </div>

        <!-- Modal Trigger Button -->
        <div class="uk-text-center uk-margin-large">
            <button 
                id="showButton"
                hx-get="/modal" 
                hx-target="#modals-here" 
                class="uk-button uk-button-primary uk-button-large"
                _="on htmx:afterOnLoad wait 10ms then add .uk-open to #modal">
                Open Modal
            </button>
        </div>

        <!-- Modal Container -->
        <div id="modals-here"></div>

        <!-- Submissions Display -->
        {% if submissions %}
        <div class="uk-margin-large">
            <h2 class="uk-heading-small">Recent Submissions</h2>
            <div class="uk-grid-small uk-child-width-1-2@s uk-child-width-1-3@m" uk-grid>
                {% for submission in submissions %}
                <div>
                    <div class="uk-card uk-card-default uk-card-body">
                        <h3 class="uk-card-title">{{ submission.name }}</h3>
                        <p class="uk-text-meta">{{ submission.timestamp }}</p>
                    </div>
                </div>
                {% endfor %}
            </div>
            
            <div class="uk-text-center uk-margin">
                <button 
                    hx-post="/clear" 
                    hx-target="#submissions-section" 
                    hx-swap="outerHTML"
                    class="uk-button uk-button-danger"
                    hx-confirm="Are you sure you want to clear all submissions?">
                    Clear All Submissions
                </button>
            </div>
        </div>
        {% endif %}

        <!-- How It Works Section -->
        <div class="uk-margin-large">
            <h2 class="uk-heading-small">How It Works</h2>
            <div class="uk-grid-small uk-child-width-1-1@s uk-child-width-1-2@m" uk-grid>
                <div>
                    <div class="uk-card uk-card-default uk-card-body">
                        <h3 class="uk-card-title">HTMX Integration</h3>
                        <ul class="uk-list uk-list-bullet">
                            <li><code>hx-get="/modal"</code> - Loads modal content dynamically</li>
                            <li><code>hx-target="#modals-here"</code> - Places modal in designated container</li>
                            <li><code>hx-post="/submit"</code> - Submits form data from modal</li>
                            <li><code>hx-confirm</code> - Shows confirmation dialog</li>
                        </ul>
                    </div>
                </div>
                <div>
                    <div class="uk-card uk-card-default uk-card-body">
                        <h3 class="uk-card-title">UIKit Features</h3>
                        <ul class="uk-list uk-list-bullet">
                            <li>Modal dialog with smooth animations</li>
                            <li>Responsive grid layout for submissions</li>
                            <li>Card components for data display</li>
                            <li>Button styling and interactions</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- HTMX Patterns Section -->
        <div class="uk-margin-large">
            <h2 class="uk-heading-small">HTMX Patterns Demonstrated</h2>
            <div class="uk-grid-small uk-child-width-1-1@s uk-child-width-1-3@m" uk-grid>
                <div>
                    <div class="uk-card uk-card-secondary uk-card-body">
                        <h3 class="uk-card-title">Dynamic Loading</h3>
                        <p><code>hx-get</code> loads modal content on demand</p>
                    </div>
                </div>
                <div>
                    <div class="uk-card uk-card-secondary uk-card-body">
                        <h3 class="uk-card-title">Form Submission</h3>
                        <p><code>hx-post</code> submits form data without page reload</p>
                    </div>
                </div>
                <div>
                    <div class="uk-card uk-card-secondary uk-card-body">
                        <h3 class="uk-card-title">Confirmation</h3>
                        <p><code>hx-confirm</code> shows native confirmation dialog</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- UIKit JS -->
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.17.11/dist/js/uikit.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/uikit@3.17.11/dist/js/uikit-icons.min.js"></script>
    
    <!-- HTMX -->
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    
    <!-- Hyperscript -->
    <script src="https://unpkg.com/hyperscript.org@0.9.12"></script>
</body>
</html>
